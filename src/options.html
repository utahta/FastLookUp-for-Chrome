<html>
<head>
<title>FastLookUp for Chrome</title>
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>
<style>
body {
    background-color: #F7F7F7;
    color: #333;
    font-size: 13px;
    font-style: normal;
    font-variant: normal;
    font-weight: normal;
}
.header {
    width:700px; 
    background: #FFFFFF;
    color: #FFFFFF;
    margin-left:auto; 
    margin-right:auto;
    font-size: 30px;
    -webkit-border-radius: 7px;
    -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3);
    padding: 7px;
    background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#959595), to(#000000));
    text-shadow: 0px -1px 1px rgba(0, 0, 0, 0.25);
    position: relative;
}
.footer {
    width:700px; 
    color: #000000;
    margin-left:auto; 
    margin-right:auto;
    padding: 7px;
    /*    text-shadow: 0px -1px 1px rgba(0, 0, 0, 0.25);*/
    position: relative;
}
.footer a {
    color: #333333;
}

.title {
    color: #888888;
    font-size: 15px;
}

.contents {
    padding-top: 3px;
    padding-left: 10px;
}

.menu {
    width:700px;
    background: #FFFFFF;
    margin-left:auto;
    margin-right:auto;
    -webkit-border-radius: 7px;
    -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3);
    padding: 7px;
    text-align: left;
}
.buttons {
    width: 100px;
}
#save_result {
    display: none;
    color: #33e;
}
</style>
<script>
function set()
{
    var font_size = localStorage.getItem( "font_size" );
    eval( "var excite = " + localStorage.getItem( "excite" ) );
    eval( "var google = " + localStorage.getItem( "google" ) );
    var i;

    // font settings.
    if( !font_size ){
        font_size = 13;
    }
    for( i = 0; i < document.options.font_size.length; i++ ){
        if( document.options.font_size[i].value == font_size ){
            document.options.font_size[i].selected = true;
        }
    }

    // excite settings.
    if( excite['use'] == "true" || excite['use'] == null ){
        document.options.use_excite.checked = true;
        show( "id_excite" );
    }
    else{
        hide( "id_excite" );
    }

    if( !excite['sc1'] && !excite['sc2'] ){
        excite['sc1'] = 'none';
        excite['sc2'] = 'Ctrl';
    }
    else if( !excite['sc1'] ){
        excite['sc1'] = 'none';
    }
    else if( !excite['sc2'] ){
        excite['sc2'] = 'none';
    }
    for( i = 0; i < document.options.sc1_excite.length; i++ ){
        if( document.options.sc1_excite[i].value == excite['sc1'] ){
            document.options.sc1_excite[i].selected = true;
        }
    }
    for( i = 0; i < document.options.sc2_excite.length; i++ ){
        if( document.options.sc2_excite[i].value == excite['sc2'] ){
            document.options.sc2_excite[i].selected = true;
        }
    }

    // google settings.
    if( google['use'] == "true" || google['use'] == null ){
        document.options.use_google.checked = true;
        show( "id_google" );
    }
    else{
        hide( "id_google" );
    }

    if( !google['sc1'] && !google['sc2'] ){
        google['sc1'] = 'none';
        google['sc2'] = 'Ctrl';
    }
    else if( !google['sc1'] ){
        google['sc1'] = 'none';
    }
    else if( !google['sc2'] ){
        google['sc2'] = 'none';
    }
    for( i = 0; i < document.options.sc1_google.length; i++ ){
        if( document.options.sc1_google[i].value == google['sc1'] ){
            document.options.sc1_google[i].selected = true;
        }
    }
    for( i = 0; i < document.options.sc2_google.length; i++ ){
        if( document.options.sc2_google[i].value == google['sc2'] ){
            document.options.sc2_google[i].selected = true;
        }
    }
}

function save()
{
    var font_size = document.options.font_size[document.options.font_size.selectedIndex].value;
    var excite = {};
    excite["use"] = document.options.use_excite.checked;
    excite["sc1"] = document.options.sc1_excite[document.options.sc1_excite.selectedIndex].value;
    excite["sc2"] = document.options.sc2_excite[document.options.sc2_excite.selectedIndex].value;

    var google = {};
    google["use"] = document.options.use_google.checked;
    google["sc1"] = document.options.sc1_google[document.options.sc1_google.selectedIndex].value;
    google["sc2"] = document.options.sc2_google[document.options.sc2_google.selectedIndex].value;

    localStorage.setItem( "font_size", font_size );
    localStorage.setItem( "excite", toSource( excite ) );
    localStorage.setItem( "google", toSource( google ) );
    slideToggle( "save_result", 'normal' );
    fadeOutToggle( "save_result", 2000 );
}

function toSource( elm )
{
    var out = '';
    for( var key in elm ){
        if( out != '' ) out += ',';
        out += "'"+key+"':'"+elm[key]+"'";
    }
    return '{' + out + '}';
}

function show( id )
{
    $("#"+id).show();
}

function hide( id )
{
    $("#"+id).hide();
}

function slideToggle( id, arg )
{
    if( arg == undefined ) arg = "fast";
    $("#"+id).slideToggle(arg);
}

function fadeOutToggle( id, arg )
{
    if( arg == undefined ) arg = "fast";
    $("#"+id).fadeOut(arg)
}

</script>
</head>
<body onload='set()'>
<center>
<div class="header">FastLookUp for Chrome</div>
<br>
<form name="options">
    <div class='menu'>
        <div class='title'>Font</div>
        <div class='contents'>
            <b>size</b>
            <select name='font_size'>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
                <option>23</option>
                <option>24</option>
            </select>
            <b>px</b>
        </div>
        <br>
        <div class='title'>Translator</div>
        <div class='contents'>
            <b>Excite</b> <input type='checkbox' name='use_excite' onclick='slideToggle("id_excite");'><br>
            <div class='contents' id='id_excite'>
                <b>Shortcut:</b> 
                <select name='sc1_excite'>
                    <option>none</option>
                    <option>Shift</option>
                    <option>Ctrl</option>
                    <option>Alt</option>
                </select>
                <b>+</b>
                <select name='sc2_excite'>
                    <option>none</option>
                    <option>Shift</option>
                    <option>Ctrl</option>
                    <option>Alt</option>
                </select>
                <b>+ Select</b>
                <br>
            </div>
            <br>
            <b>Google</b> <input type='checkbox' name='use_google' onclick='slideToggle("id_google");'><br>
            <div class='contents' id='id_google'>
                <b>Shortcut:</b> 
                <select name='sc1_google'>
                    <option>none</option>
                    <option>Shift</option>
                    <option>Ctrl</option>
                    <option>Alt</option>
                </select>
                <b>+</b>
                <select name='sc2_google'>
                    <option>none</option>
                    <option>Shift</option>
                    <option>Ctrl</option>
                    <option>Alt</option>
                </select>
                <b>+ Select</b>
                <br>
            </div>
        </div>
        <br>
        <!--
        <br><br>
        <div class='title'>Setting Details</div>
        <br>
        <input type='checkbox' name='setting_details'>
        -->
    </div>
    <br>
    <input type='button' class='buttons' name='save_btn' value='Save' onclick='save()'>
    <input type='button' class='buttons' name='exit_btn' value='Exit' onclick='window.close()'>
</form>
<div id='save_result'>saved</div>
<div class="footer"><a href='http://www.ninxit.com/blog/' target=_blank>home</a> | <a href='http://github.com/yuta/FastLookUp-for-Chrome' target=_blank>repos</a> | <a href='http://github.com/yuta/FastLookUp-for-Chrome/commits/master/' target=_blank>history</a></div>
</center>
</body>
</html>
